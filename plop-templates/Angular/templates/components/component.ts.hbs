import { Component, OnInit, ViewChild } from '@angular/core';
import { Router } from '@angular/router';
import { CoderPioneersComponent } from '@shared/components/base/coder-pioneers/coder-pioneers.component';
import { NgxSpinnerService } from 'ngx-spinner';
import { BaseComponent } from '@shared/base/base.component';
import { PermissionsService } from '@common/services/Auth/permissions.service';
import { CreateComponent } from './create/create.component';
import { ListComponent } from './list/list.component';

@Component({
  selector: 'app-{{name}}',
  standalone: true,
  imports: [
    ListComponent,
    CreateComponent,
    CoderPioneersComponent,
  ],
  templateUrl: './{{name}}.component.html',
  styleUrl: './{{name}}.component.scss'
})
export class {{componentName}}Component extends BaseComponent implements OnInit {

//#region ViewChild Tanımlamaları
@ViewChild(ListComponent)
listComponent?: ListComponent;
//#endregion

//#region Component Properties - Komponent Özellikleri
searchValue: string = '';
showBreadcrumbs: boolean = true;
//#endregion

constructor(
  public permissionsService: PermissionsService,
  private routers: Router,
  spinner: NgxSpinnerService
) 
{
  super(spinner);
}

ngOnInit(): void {
  if (
    !this.permissionsService.ifPermit('{{getPermission}}')
    ){
    this.routers.navigate(['/unauthorized']);
    return;
  }
}

//#region Arama Fonksiyonu
receiveSearchValue(value: string) {
  this.searchValue = value;
}
//#endregion

//#region Oluşturma Fonksiyonu
created() {
  this.listComponent?.getList();
}
//#endregion

//#region İndirme Fonksiyonu
// html,json,excel,csv,txt
excel() {
  this.listComponent?.exportToExcel();
}

exportToCSV() {
  this.listComponent?.exportToCSV();
}

exportToTXT() {
  this.listComponent?.exportToTXT();
}

exportToJSON() {
  this.listComponent?.exportToJSON();
}

exportToHTML() {
  this.listComponent?.exportToHTML();
}
//#endregion


//#region Filtreleme
// filtre1,filtre2,filtre3,filtre4
filtre1() {
}

filtre2() {
}

filtre3() {
}

filtre4() {
}
//#endregion
}
