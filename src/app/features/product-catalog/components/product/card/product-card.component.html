<mat-card
  class="product-card"
  (click)="onCardClick(product)"
  [class.card-hover]="true"
  [class.card-active]="product.productIsActive"
>
  <!-- Ürün Fotoğrafı -->
  <div class="product-image-container">
    <img
      [src]="getProductImageUrl(product)"
      [alt]="product.productName"
      class="product-image"
    />

    <!-- Stok Durumu Badge -->
    <div
      class="stock-badge"
      [ngClass]="getStockStatus(product.productStock).class"
    >
      {{ getStockStatus(product.productStock).text }}
    </div>

    <!-- Aktiflik Durumu Badge -->
    <div
      class="status-badge"
      [ngClass]="getActiveStatus(product.productIsActive).class"
    >
      {{ getActiveStatus(product.productIsActive).text }}
    </div>
  </div>

  <!-- Ürün Bilgileri -->
  <mat-card-content class="product-content">
    <!-- Ürün Adı -->
    <h3 class="product-title" [matTooltip]="product.productName">
      {{ product.productName }}
    </h3>

    <!-- Kategori -->
    <div class="product-category" *ngIf="product.categoryName">
      <mat-icon class="category-icon">category</mat-icon>
      <span>{{ product.categoryName }}</span>
    </div>

    <!-- Açıklama -->
    <p class="product-description" *ngIf="product.productDescription">
      {{ product.productDescription | slice : 0 : 100
      }}{{ product.productDescription.length > 100 ? "..." : "" }}
    </p>

    <!-- Fiyat ve Stok Bilgileri -->
    <div class="product-details">
      <div class="price-section">
        <span class="price-label">Fiyat:</span>
        <span class="price-value">{{ formatPrice(product.productPrice) }}</span>
      </div>

      <div class="stock-section">
        <span class="stock-label">Stok:</span>
        <span class="stock-value">{{ product.productStock }} adet</span>
      </div>
    </div>

    <!-- QR Kod ve Barkod -->
    <div
      class="product-codes"
      *ngIf="product.productQrCode || product.productBarcode"
    >
      <div class="code-item" *ngIf="product.productQrCode">
        <mat-icon class="code-icon">qr_code</mat-icon>
        <span class="code-text">{{ product.productQrCode }}</span>
      </div>

      <div class="code-item" *ngIf="product.productBarcode">
        <mat-icon class="code-icon">qr_code_2</mat-icon>
        <span class="code-text">{{ product.productBarcode }}</span>
      </div>
    </div>
  </mat-card-content>

  <!-- Aksiyon Butonları -->
  <mat-card-actions class="product-actions" *ngIf="showActions">
    <div class="action-buttons">
      <!-- Düzenle -->
      <button
        mat-icon-button
        class="action-btn edit-btn"
        (click)="onEdit(product); $event.stopPropagation()"
        matTooltip="Ürünü Düzenle"
      >
        <mat-icon>edit</mat-icon>
      </button>

      <!-- Sepete Ekle -->
      <button
        mat-icon-button
        class="action-btn cart-btn"
        (click)="onAddToCart(product); $event.stopPropagation()"
        matTooltip="Sepete Ekle"
      >
        <mat-icon>add_shopping_cart</mat-icon>
      </button>

      <!-- Fotoğraf Yükle -->
      <button
        mat-icon-button
        class="action-btn photo-btn"
        (click)="onUploadPhoto(product); $event.stopPropagation()"
        matTooltip="Fotoğraf Yükle"
      >
        <mat-icon>photo_camera</mat-icon>
      </button>

      <!-- Sil -->
      <button
        mat-icon-button
        class="action-btn delete-btn"
        (click)="onDelete(product); $event.stopPropagation()"
        matTooltip="Ürünü Sil"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </mat-card-actions>
</mat-card>
