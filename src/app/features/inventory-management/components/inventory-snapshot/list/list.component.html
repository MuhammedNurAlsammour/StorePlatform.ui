<!-- Gruplama Kontrolleri -->
<div
  class="filter-controls-container"
  style="
    margin-bottom: 16px;
    padding: 12px;
    background-color: #f5f5f5;
    border-radius: 8px;
  "
>
  <div class="filter-row">
    <mat-slide-toggle
      [(ngModel)]="groupByProduct"
      (change)="onGroupingToggle()"
      color="primary"
    >
      Ürünlere Göre Grupla
    </mat-slide-toggle>

    <mat-slide-toggle
      [(ngModel)]="getLatestOnly"
      (change)="onLatestOnlyToggle()"
      color="accent"
      [disabled]="groupByProduct"
    >
      Sadece Son Durumu Göster
    </mat-slide-toggle>

    <!-- Özet Bilgiler -->
    <div class="summary-info" *ngIf="tableData.length > 0">
      <mat-chip-listbox>
        <mat-chip>Toplam Kayıt: {{ totalRows }}</mat-chip>
        <mat-chip color="primary" *ngIf="groupByProduct"
          >Gruplu Görünüm Aktif</mat-chip
        >
        <mat-chip color="accent" *ngIf="getLatestOnly"
          >Sadece Son Durum</mat-chip
        >
      </mat-chip-listbox>
    </div>
  </div>
</div>

<app-cp-list
  [data]="tableData"
  [columns]="columns"
  [config]="tableConfig"
  [features]="tableFeatures"
  [actions]="tableActions"
  [sortConfig]="sortConfig"
  [totalRows]="totalRows"
  [isLoading]="isDataLoading"
  (rowClick)="onRowClick($event)"
  (sortChange)="onSortChange($event)"
  (pageChange)="onPageChange($event)"
  (delete)="getList()"
  [filterValue]="filterValue"
>
</app-cp-list>
